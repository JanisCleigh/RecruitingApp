<template>
    <lightning-card title="Positions">
        <template if:true={statusValues}>
            <lightning-combobox class="slds-size_1-of-12 slds-var-p-left_x-small" name="Select status"
                label="Select status" placeholder="-Select status" value={selectedStatus} options={statusValues}
                onchange={handleChange}>
            </lightning-combobox>
        </template>
        <lightning-button class="slds-var-p-left_x-small" variant="brand" type="submit" label="Save">
        </lightning-button>
        <table
            class="slds-table slds-table_cell-buffer slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols slds-table_col-bordered">
            <thead>
                <tr class="slds-line-height_reset slds-var-p-around_xxx-small">
                    <th scope="col">
                        <div align="center" class="slds-truncate" title="Position Name">Position Name</div>
                    </th>
                    <th class="" scope="col">
                        <div align="center" class="slds-truncate" title="Position Status">Position Status</div>
                    </th>
                    <th class="" scope="col">
                        <div align="center" class="slds-truncate" title="Min Salary">Min Salary</div>
                    </th>
                    <th class="" scope="col">
                        <div align="center" class="slds-truncate" title="Min Salary">Max Salary</div>
                    </th>   
                    <th class="" scope="col">
                        <div align="center" class="slds-truncate" title="Open Date">Open Date</div>
                    </th>
                    <th class="" scope="col">
                        <div align="center" class="slds-truncate" title="Closing Date">Closing Date</div>
                    </th>
                </tr>
            </thead>
            <tbody>
                <template for:each={allPositions} for:item="position">
                    <tr key={position.id} class="slds-var-p-around_xx-small">
                        <td class="">
                            <div>
                                {position.Name}
                            </div>
                        </td>
                        <td class="">
                            <div>
                                <lightning-record-edit-form object-api-name="Position__c">
                                    <lightning-input-field variant="label-hidden" field-name="Status__c"
                                        value={position.Status__c}>
                                    </lightning-input-field>
                                </lightning-record-edit-form>
                            </div>
                        </td>
                        <td class="">
                            <div class="slds-truncate">
                                {position.Min_Salary__c}
                            </div>
                        </td>
                        <td class="">
                            <div>
                                {position.Max_Salary__c}
                            </div>
                        </td>
                        <td class="">
                            <div>
                                <lightning-formatted-date-time value={position.Open_Date__c} year="numeric"
                                    month="numeric" day="numeric" hour="2-digit" minute="2-digit">
                                </lightning-formatted-date-time>
                            </div>
                        </td>
                        <td class="">
                            <div>
                                <lightning-formatted-date-time value={position.Closing_Date__c} year="numeric"
                                    month="numeric" day="numeric" hour="2-digit" minute="2-digit">
                                </lightning-formatted-date-time>
                            </div>
                        </td>
                    </tr>
                </template>
            </tbody>
        </table>
    </lightning-card>
</template>